<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-105987818-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-105987818-1');
    </script>
    
    <title>Pulse Watch</title>
    <link type="text/css" rel="stylesheet" href="index.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script type="text/javascript" src="index.js"></script>
  </head>
  <body>
    <div id="container">
      <div id="login-container" class="pre-auth">
          <h1>Pulse Watch</h1>
          <h5>
            A way to export your Fitbit Heart Rate data for any period of time <br />
            Additionally will provide a graph of your resting heart rate. 
          </h5>
          <h3>
            This application requires access to your Fitbit account.<br/>
          </h3>
          <a href="https://www.fitbit.com/oauth2/authorize?response_type=token&client_id=22CJTT&redirect_uri=https%3A%2F%2Ficcir919.github.io%2FpulseWatch%2Fpublic%2Findex.html&scope=heartrate%20profile&expires_in=604800" id="login-link">Authorize To Continue</a>
        </div>
        <div class="post-auth">
          <form id="date_selection_form">
            <div class="w3-row-padding">
              <h5>Select a time interval:</h5>
            </div>
            <div class="w3-row-padding">
              <div class="w3-half">
                <label><span class="start_font"> Start</span> Date</label>
                <input type="date" id="start_date" name="start"><br>
              </div>
              <div class="w3-half">
                <label><span class="end_font">End</span> Date</label>
                <input type="date" id="end_date" name="end"><br>
              </div>
            </div>
            <input id="submit_button" onclick="handleDateFormSubmit()" type="button" value="Fetch My Heart Rate Data">
          </form>
          <div id="download">
            <p>Click the green button below for a .csv file that includes your daily data categorized by Fitbit into four heart 
              rate zones: out of range, fat burn, cardio, and peak. Resting heart rate included. Custom heart rate zones are not.</p>
            <a id="download_button">Download All Heart Rate Data</a>
        </div>
          <div id="resting_rate_visualization">
            <h4>Resting heart rate date visualization</h4>
            <div id="chart"></div>
          </div>
        </div>
    </div>
    <footer>
      <p>Made by <a href="https://iccir919.github.io/">Neil Ricci</a></p>
    </footer>
  </body>
</html>